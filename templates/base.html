<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>

  <meta charset="UTF-8">
    <title>{{ title if title else "Sakhiya's Portfolio" }}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="P24_hZA1wtKKoYz3CvZYWTLEWpyrDwON8VNY77i6q5k" />
  <!-- Open Graph / LinkedIn preview -->
<meta property="og:title" content="Sakhiya Salad â€“ Full-Stack Software Engineer" />
<meta property="og:description" content="Full-stack software engineer with experience in backend systems, APIs, databases, and modern web technologies. Explore projects, blogs, and real-world engineering work." />
<meta property="og:url" content="https://www.sakhiya.dev" />
<meta property="og:type" content="website" />
<meta property="og:image" content="https://www.sakhiya.dev/static/linkedin-preview-v2.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="627" />



  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Lato:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

  <!--  stylesheet -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

</head>
<body>

  <a class="skip-link" href="#main">Skip to main content</a>

  {% include "partials/_header.html" %}

  <main id="main">
      <!-- This is where child templates inject their page-specific HTML -->
    {% block content %}{% endblock %}
  </main>

  {% include "partials/_footer.html" %}

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

  <script>
  document.addEventListener("DOMContentLoaded", () => {

    // Theme toggle: Light - Dark - High Contrast. toggle-theme is from header.html in partial
    const themeBtn = document.getElementById("toggle-theme");
    const rootEl = document.documentElement;

    function labelFor(theme){
  if(theme === "light") return "ðŸŒ™ Dark mode";
  if(theme === "dark") return "â— High contrast";
  return "â˜€ï¸ Light mode";
}


    function applyTheme(theme){
      rootEl.dataset.theme = theme;
      localStorage.setItem("theme", theme);
      if(themeBtn){
        themeBtn.textContent = labelFor(theme);
        themeBtn.setAttribute("aria-pressed", theme !== "light" ? "true" : "false");
        themeBtn.setAttribute("aria-label", "Change theme. Current: " + theme);
      }
    }

    const savedTheme = localStorage.getItem("theme") || "light";
    applyTheme(savedTheme);

    if(themeBtn){
      themeBtn.addEventListener("click", () => {
        const current = rootEl.dataset.theme || "light";
        const next = current === "light" ? "dark" : (current === "dark" ? "contrast" : "light");
        applyTheme(next);
      });
    }

    // accessibility Reduced motion support against dizziness, migraines etc.WCAG-compliant
    const reduceMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;


    // Project card animations (only if motion allowed)
    if(!reduceMotion){
        //Find all elements with class project-card or blog-card
      const cards = document.querySelectorAll(".project-card, .blog-card");
      // Tell me when this element becomes visible on screen
      const cardObserver = new IntersectionObserver(entries => {
          //If this card is visible, add the class visible otherwise remove
        entries.forEach(entry => entry.target.classList.toggle("visible", entry.isIntersecting));
      }, { threshold: 0.25 });// Trigger animation when 25% of the card is visible
      cards.forEach(card => cardObserver.observe(card));
    } else {
      document.querySelectorAll(".project-card, .blog-card").forEach(el => el.classList.add("visible"));//If motion is reduced, just show everything immediately
    }


    // Section background highlight (keeps  house style) when it's mostly visible on screen
    const sections = document.querySelectorAll("section");
    const sectionObserver = new IntersectionObserver(entries => {
      entries.forEach(entry => entry.target.classList.toggle("active-section", entry.isIntersecting));
    }, { threshold: 0.5 });//At least half of the section must be visible to prevent flickering or multiple sections being active at once
    sections.forEach(section => sectionObserver.observe(section));


    // Typewriter effect (runs only if hero has it)
    const typingText = document.getElementById("typing-text");
    if(typingText){
      const snippets = [
        { code: "$ whoami", output: "Sakhiya â€” full-stack software engineer" },
        { code: ">>> approach_to_problems", output: "Break down complexity. Design for clarity." },
        { code: "System.out.println(role);", output: "Scalable backend APIs and full-stack systems" },
        { code: "Build()", output: "Reliable backend APIs and thoughtful UIs" },
        { code: "SELECT skills FROM engineer;", output: "Java, Spring Boot, React, Python, SQL" }
      ];
        // phase text to type
      let index = 0, charIndex = 0, phase = "code";
      const typingSpeed = 80;
      const pauseTime = 1400;

      function typeCurrentText() {
        const current = snippets[index];
        const text = (phase === "code") ? current.code : current.output;

        typingText.textContent = text.slice(0, charIndex);
        charIndex++;
        // Trying to prevent to slice past the end of the string or running forever and never switching to next
        if (charIndex <= text.length) {
          setTimeout(typeCurrentText, reduceMotion ? 10 : typingSpeed);
        } else {
            // recursion typeCurrentText() calling typeCurrentText again later
          setTimeout(() => {
            charIndex = 0;
            if (phase === "code") phase = "output";
            else { phase = "code"; index = (index + 1) % snippets.length; }//creates a loop back to the start.
            typingText.textContent = "";// clear screen
            typeCurrentText();// restart typing again
          }, reduceMotion ? 10 : pauseTime);
        }
      }
      typeCurrentText();
    }

  });
  </script>

</body>
</html>
